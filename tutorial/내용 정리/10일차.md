# 흔한 찐따의 파이썬 10일차 내용 정리
오늘은 파이썬의 모듈과 이름 공간에 대해 공부하였다.
개인적으로는 클래스를 공부했을 때에 비해서 난이도가 쉬운 편이었다.

## 모듈 (Module)
파이썬 공식 문서의 [용어집](https://docs.python.org/ko/3/glossary.html)에서는 다음과 같이 정의하고 있다.
- 모듈이란, 파이썬 코드의 조직화 단위를 담당하는 객체이다.
- 모듈은 임의의 파이썬 객체들을 담는 **이름 공간(namespace)** 을 갖는다.
  - 이름 공간(namespace)이란, 변수가 저장되는 장소를 의미한다.
  - 파이썬에서의 이름 공간은 딕셔너리(dict)로 구현되어 있다.
  - 객체에 중첩된 이름 공간(메서드에서) 뿐만 아니라 지역, 전역, 내장 이름 공간이 있다.
- 모듈은 임포팅(importing) 절차에 의해 파이썬으로 로드된다.
  - 모듈을 불러올 때 `import` 키워드로 로드한다.

위의 내용을 쉽게 정리하여 말하자면 다음과 같다.
- 모듈은 함수나 변수, 클래스들을 모아놓은 파이썬 파일이다.
  - 즉, 지금까지 `.py` 확장자로 만들었던 파이썬 파일들 모두 파이썬 모듈이다.
- 모듈에는 지역, 전역, 내장 이름 공간이 존재한다.
  - 즉, 모듈에는 변수와 함수, 클래스의 효력 범위가 존재한다는 의미.

### 모듈 만들기
- 지금까지 해오던 것처럼 파이썬 예제들을 만들듯이 똑같이 `.py` 파일로 저장시키면 된다.
- 그 다음 새로운 파이썬 파일에서 `import 모듈명` 으로 불러오면 된다.

#### 예시
- 먼저, `test.py` 라는 파이썬 파일을 생성한 후에 아래의 예시 코드와 같은 함수들을 정의한다.
  - 함수 `add` 는 매개 변수 `x` 와 `y` 를 덧셈하는 함수이다.
  - 함수 `sub` 는 매개 변수 `x` 와 `y` 를 뺄셈하는 함수이다.
- 그 다음 `test.py` 를 저장한다.

```python
# test.py

def add(x, y):
    return x + y

def sub(x, y):
    return x - y
```

### import
`import` 키워드는 파이썬 모듈을 불러오는 키워드이다.

#### 예시
- `test2.py` 라는 또다른 파이썬 파일을 생성하고 다음과 같이 `test.py` 에서 구현한 함수 `add` 와 `sub` 를 사용해본다.
- 모듈에 구현되어 있는 함수나 클래스에 접근할 때 역시 접근 연산자 `.` 를 사용해서 호출한다.

```python
# test2.py

# 이전에 생성한 'test' 모듈을 불러온다.
import test

# 'test' 모듈에 구현되어 있는 함수 'add'를 호출한다.
a = test.add(10, 20)
print(a)

# 'test' 모듈에 구현되어 있는 함수 'sub'를 호출한다.
b = test.sub(10, 20)
print(b)
```

### from
- 때로는 `test.add` , `test.sub` 처럼 쓰지 않고 `add` , `sub` 처럼 모듈 이름 없이 함수 이름만 쓰고 싶은 경우도 있을 것이다.
- 이럴 때 사용하는 키워드가 바로 `from` 키워드이다.
- 사용법은 `from 모듈 이름 import 모듈 함수` 이렇게 사용하면 된다.

#### 예시
`from` 키워드로 불러오는 방법은 여러 방식이 존재한다.

- 각각 `add` , `sub` 를 하나씩 불러오는 방식
```python
# test3.py

from test import add
from test import sub

a = add(10, 20)
print(a)

b = sub(10, 20)
print(b)
```

- 쉼표( `,` ) 기호를 통해 하나씩 불러오는 방식
```python
# test4.py

from test import add, sub

a = add(10, 20)
print(a)

b = sub(10, 20)
print(b)
```

- `*` 기호를 통해 모듈 내에 구현되어 있는 모든 것들을 한번에 불러오기
```python
# test5.py

from test import *

a = add(10, 20)
print(a)

b = sub(10, 20)
print(b)
```

> 참고로 `*` 기호는 정규 표현식에서의 **와일드카드 문자열**이라고도 불리며, "모든 것(everythings)"을 의미한다.
> 정규 표현식이 뭔지는 아직 잘 모르기 때문에 나중에 더 공부를 해야겠다.

## 프로그램 진입점 `if __name__ == "__main__":`

### 의미
- 모듈에는 이름 공간(namespace) 라는 개념이 존재한다고 상술했다.
- 이름 공간 변수가 바로 `__name__` 이다.
- `if __name__ == "__main__":` 이라는 것은 이름 공간이 `__main__` 일 경우를 묻는 것이다.
- 프로그래밍에서의 **메인(main)** 의 의미는 **프로그램의 진입점**, **실행되는 프로그램 그 자체**를 뜻한다.
  - `C` 나 `JAVA` 같은 경우, `main` 함수가 존재하는데, 이를 프로그램 진입점이라고 설명하고 있다.
- 즉, `if __name__ == "__main__":` 의 의미는 **모듈이 프로그램 진입점, 즉 실행되는 프로그램인 경우를 묻는 것을 의미**한다.

### 예시와 설명
위의 `test.py` 의 코드를 아래와 같이 바꿔본다.

```python
# test.py

def add(a, b): 
    return a+b

def sub(a, b): 
    return a-b

print(add(10, 20))
print(sub(10, 20))
```

그 뒤에 아래의 코드를 작성한 후 실행하면 아래와 같은 결과가 나온다.

```python
import test
```

**결과**
```
30
-10
```

분명히 `import` 를 통해 모듈을 불러오기만 하는 코드임에도 불구하고 아래의 `print` 함수까지 전부 실행이 되어버린다.

이를 방지하기 위해 사용하는 것이 바로 `if __name__ == "__main__":` 구문을 추가하여 모듈이 실행되는 프로그램인지 여부를 판단한다.

```python
# test.py

def add(a, b): 
    return a+b

def sub(a, b): 
    return a-b

if __name__ == "__main__":
    print(add(10, 20))
    print(sub(10, 20))
```

위와 같이 변경해주면 `test.py` 를 실행할 경우에만 아래의 `if __name__ == "__main__":` 구문이 실행된다.
